<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Notifications</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
</head>
<body class="p-4">
    <div class="container">
        <h2>Test des Notifications Toast</h2>
        <div class="row g-3">
            <div class="col-md-3">
                <button class="btn btn-success w-100" onclick="testNotification('success')">
                    <i class="bi bi-check-circle me-2"></i>Succès
                </button>
            </div>
            <div class="col-md-3">
                <button class="btn btn-danger w-100" onclick="testNotification('error')">
                    <i class="bi bi-exclamation-circle me-2"></i>Erreur
                </button>
            </div>
            <div class="col-md-3">
                <button class="btn btn-warning w-100" onclick="testNotification('warning')">
                    <i class="bi bi-exclamation-triangle me-2"></i>Attention
                </button>
            </div>
            <div class="col-md-3">
                <button class="btn btn-info w-100" onclick="testNotification('info')">
                    <i class="bi bi-info-circle me-2"></i>Information
                </button>
            </div>
        </div>
    </div>

    <!-- Styles pour les notifications toast -->
    <style>
    .toast {
        min-width: 300px;
        border: none;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .toast-header {
        border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        font-weight: 600;
    }

    .toast-body {
        font-size: 0.9rem;
        line-height: 1.4;
    }

    .bg-success-subtle {
        background-color: rgba(25, 135, 84, 0.1) !important;
        border-left: 4px solid #198754;
    }

    .bg-danger-subtle {
        background-color: rgba(220, 53, 69, 0.1) !important;
        border-left: 4px solid #dc3545;
    }

    .bg-warning-subtle {
        background-color: rgba(255, 193, 7, 0.1) !important;
        border-left: 4px solid #ffc107;
    }

    .bg-info-subtle {
        background-color: rgba(13, 202, 240, 0.1) !important;
        border-left: 4px solid #0dcaf0;
    }
    </style>

    <!-- Container pour les notifications toast -->
    <div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 9999;">
        <div id="notificationToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <i id="toastIcon" class="bi me-2"></i>
                <strong id="toastTitle" class="me-auto"></strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div id="toastBody" class="toast-body"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
    // Fonction globale pour afficher les notifications toast
    window.showNotification = function(type, message) {
        const toastElement = document.getElementById('notificationToast');
        const toastIcon = document.getElementById('toastIcon');
        const toastTitle = document.getElementById('toastTitle');
        const toastBody = document.getElementById('toastBody');
        
        if (!toastElement || !toastIcon || !toastTitle || !toastBody) {
            console.warn('Éléments toast non trouvés, utilisation de alert()');
            alert(message);
            return;
        }
        
        // Configuration selon le type
        const configs = {
            'success': {
                icon: 'bi-check-circle-fill',
                iconColor: 'text-success',
                title: 'Succès',
                bgClass: 'bg-success-subtle'
            },
            'error': {
                icon: 'bi-exclamation-circle-fill',
                iconColor: 'text-danger',
                title: 'Erreur',
                bgClass: 'bg-danger-subtle'
            },
            'warning': {
                icon: 'bi-exclamation-triangle-fill',
                iconColor: 'text-warning',
                title: 'Attention',
                bgClass: 'bg-warning-subtle'
            },
            'info': {
                icon: 'bi-info-circle-fill',
                iconColor: 'text-info',
                title: 'Information',
                bgClass: 'bg-info-subtle'
            }
        };
        
        const config = configs[type] || configs['info'];
        
        // Mettre à jour le contenu
        toastIcon.className = `bi ${config.icon} ${config.iconColor}`;
        toastTitle.textContent = config.title;
        toastBody.textContent = message;
        
        // Appliquer le style de fond
        toastElement.className = `toast ${config.bgClass}`;
        
        // Afficher le toast
        const toast = new bootstrap.Toast(toastElement, {
            autohide: true,
            delay: type === 'error' ? 5000 : 3000
        });
        
        toast.show();
    };

    function testNotification(type) {
        const messages = {
            'success': 'Logo mis à jour avec succès !',
            'error': 'Erreur lors de l\'upload du fichier',
            'warning': 'Veuillez sélectionner un fichier valide',
            'info': 'Upload en cours...'
        };
        
        showNotification(type, messages[type]);
    }
    </script>
</body>
</html>
